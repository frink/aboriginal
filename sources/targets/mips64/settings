KARCH=mips
KERNEL_PATH=vmlinux
BINUTILS_FLAGS="--enable-64-bit-bfd"
GCC_FLAGS="--enable-sjlj-exceptions"
QEMU_TEST=mips64

ROOT=hda
CONSOLE=ttyS0

# Gentoo from Scratch
GFS_CHOST="mips64-gentoo-linux-uclibc"
GFS_ARCH="mips64"

UCLIBC_CONFIG="
TARGET_mips=y
CONFIG_MIPS_N64_ABI=y
CONFIG_MIPS_ISA_MIPS64=y
UCLIBC_HAS_FPU=y
"

LINUX_CONFIG="
CONFIG_MIPS_MALTA=y
CONFIG_CPU_MIPS32_R2=y
CONFIG_SERIAL_8250=y
CONFIG_SERIAL_8250_CONSOLE=y
CONFIG_PCNET32=y
CONFIG_BLK_DEV_PIIX=y
"

emulator_command()
{
  echo qemu-system-mips64 -M malta $(qemu_defaults "$@")
}
