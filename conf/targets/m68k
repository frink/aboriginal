DESCRIPTION="
Motorola 68000.

This builds, but qemu can't run it yet.  (The qemu m68k support is actually
only coldfire, an mmu-less subset of the m68k instruction set.)

The aranym emulator might be able to run this (with a different kernel
configuration) but that emulator doesn't support serial consoles.
"

KARCH=m68k
KERNEL_PATH=vmlinux
GCC_FLAGS= # "--with-float=soft"
BINUTILS_FLAGS=
QEMU_TEST= #$KARCH

ROOT=sda
CONSOLE=ttyAMA0

UCLIBC_CONFIG="
TARGET_m68k=y
UCLIBC_HAS_FPU=y
LINUXTHREADS_OLD=y
"

LINUX_CONFIG="
CONFIG_MMU=y
CONFIG_MAC=y
CONFIG_M68020=y
#CONFIG_M68030=y
#CONFIG_M68040=y
CONFIG_PROC_HARDWARE=y
CONFIG_BLK_DEV_MAC_IDE=y
CONFIG_BLK_DEV_SR_VENDOR=y
CONFIG_MAC_SCSI=y
CONFIG_SCSI_MAC_ESP=y
CONFIG_MACINTOSH_DRIVERS=y
CONFIG_ADB=y
CONFIG_ADB_MACII=y
CONFIG_MAC8390=y
CONFIG_SERIAL_PMACZILOG=y
CONFIG_SERIAL_PMACZILOG_TTYS=y
CONFIG_SERIAL_PMACZILOG_CONSOLE=y
"

emulator_command()
{
  echo qemu-system-m68k -M q800 $(qemu_defaults "$@")
}
